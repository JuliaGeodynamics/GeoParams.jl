<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Nondimensionalization ¬∑ GeoParams.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">GeoParams.jl</span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><span class="tocitem">User Guide</span><ul><li class="is-active"><a class="tocitem" href>Nondimensionalization</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Specify-characteristic-values"><span>Specify characteristic values</span></a></li><li class="toplevel"><a class="tocitem" href="#(Non)-dimensionalize-parameters"><span>(Non)-dimensionalize parameters</span></a></li></ul></li><li><a class="tocitem" href="../materialparameters/">Material Parameters</a></li><li><a class="tocitem" href="../density/">Density</a></li><li><a class="tocitem" href="../creeplaws/">Creep laws</a></li><li><a class="tocitem" href="../heatcapacity/">Heat Capacity</a></li><li><a class="tocitem" href="../conductivity/">Conductivity</a></li><li><a class="tocitem" href="../latentheat/">Latent heat</a></li><li><a class="tocitem" href="../radioactiveheating/">Radioactive heat</a></li><li><a class="tocitem" href="../shearheating/">Shear heating</a></li><li><a class="tocitem" href="../gravity/">Gravity</a></li><li><a class="tocitem" href="../melting/">Partial Melting</a></li><li><a class="tocitem" href="../phasediagrams/">Phase Diagrams</a></li><li><a class="tocitem" href="../seismicvelocity/">Seismic Velocity</a></li></ul></li><li><a class="tocitem" href="../plotting/">Plotting</a></li><li><a class="tocitem" href="../listfunctions/">List of functions</a></li><li><a class="tocitem" href="../contributing/">Contributing</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">User Guide</a></li><li class="is-active"><a href>Nondimensionalization</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Nondimensionalization</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/JuliaGeodynamics/GeoParams.jl/blob/master/docs/src/man/nondimensionalize.md" title="Edit on GitHub"><span class="docs-icon fab">ÔÇõ</span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Nondimensionalization"><a class="docs-heading-anchor" href="#Nondimensionalization">Nondimensionalization</a><a id="Nondimensionalization-1"></a><a class="docs-heading-anchor-permalink" href="#Nondimensionalization" title="Permalink"></a></h1><p>Create a nondimensionalization object in which we specify characteristic values, which are later employed to non-dimensionalize (or dimensionalize) all model parameters. Choose between <code>GEO</code>, <code>SI</code> or <code>NO</code> units:</p><ul><li><code>SI</code> units assume all input and output is in <code>SI</code> units. Very general, but for typical geodynamic simulations often not so useful (as a million years has many seconds, resulting in large numbers).</li><li><code>GEO</code> units uses <code>SI</code> units throughout but assumes that input/output are in a format that is more convenient for typical geodynamic use cases, such as <code>Myrs</code>,<code>km</code> or <code>MPa</code></li><li><code>NO</code> units are nondimensional units. Note that for parameters to be correctly non-dimensionalized in this case, you still have to indicate units (such as that <code>velocity</code> is given in <code>m/s</code>).</li></ul><p>A dimensional parameter can be transformed into a non-dimensional one with <code>Nondimensionalize</code>.</p><h1 id="Specify-characteristic-values"><a class="docs-heading-anchor" href="#Specify-characteristic-values">Specify characteristic values</a><a id="Specify-characteristic-values-1"></a><a class="docs-heading-anchor-permalink" href="#Specify-characteristic-values" title="Permalink"></a></h1><p>Characteristic values can be defined in 3 ways.</p><article class="docstring"><header><a class="docstring-binding" id="GeoParams.Units" href="#GeoParams.Units"><code>GeoParams.Units</code></a> ‚Äî <span class="docstring-category">Module</span></header><section><div><pre><code class="language-julia">This provides units and creates a non-dimensionalization object</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/GeoParams.jl/blob/d957bb10174c13e6dbc8771679654666e09b5759/src/Units.jl#L1-L3">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoParams.Units.AbstractGeoUnit" href="#GeoParams.Units.AbstractGeoUnit"><code>GeoParams.Units.AbstractGeoUnit</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><p>AbstractGeoUnit</p><p>Abstract supertype for geo units.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/GeoParams.jl/blob/d957bb10174c13e6dbc8771679654666e09b5759/src/Units.jl#L57-L61">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoParams.Units.GeoUnit" href="#GeoParams.Units.GeoUnit"><code>GeoParams.Units.GeoUnit</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Structure that holds a GeoUnit parameter, and encodes the units and whether it is dimensional or not in the name.

Having that is useful, as non-dimensionalization removes the units from a number and we thus no longer know how to transfer it back to the correct units.
With the GeoUnit struct, this information is retained, and we can thus redimensionalize it at a later StepRange</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/GeoParams.jl/blob/d957bb10174c13e6dbc8771679654666e09b5759/src/Units.jl#L72-L79">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoParams.Units.GeoUnits" href="#GeoParams.Units.GeoUnits"><code>GeoParams.Units.GeoUnits</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">GeoUnits

Structure that holds parameters used for non-dimensionalization</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/GeoParams.jl/blob/d957bb10174c13e6dbc8771679654666e09b5759/src/Units.jl#L244-L248">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoParams.Units.GEO_units" href="#GeoParams.Units.GEO_units"><code>GeoParams.Units.GEO_units</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">GEO_units(;length=1000km, temperature=1000C, stress=10MPa, viscosity=1e20Pas)</code></pre><p>Creates a non-dimensionalization object using GEO units.</p><p>GEO units implies that upon dimensionalization, <code>time</code> will be in <code>Myrs</code>, <code>length</code> in <code>km</code>, stress in <code>MPa</code>, etc. which is more convenient for typical geodynamic simulations than SI units The characteristic values given as input can be in arbitrary units (<code>km</code> or <code>m</code>), provided the unit is specified.</p><p><strong>Examples:</strong></p><pre><code class="language-julia-repl">julia&gt; CharUnits = GEO_units()
Employing GEO units 
Characteristic values: 
         length:      1000 km
         time:        0.3169 Myrs
         stress:      10 MPa
         temperature: 1000.0 ¬∞C
julia&gt; CharUnits.velocity
1.0e-7 m s‚Åª¬π</code></pre><p>If we instead have a crustal-scale simulation, it is likely more appropriate to use a different characteristic <code>length</code>:</p><pre><code class="language-julia-repl">julia&gt; CharUnits = GEO_units(length=10km)
Employing GEO units 
Characteristic values: 
         length:      10 km
         time:        0.3169 Myrs
         stress:      10 MPa
         temperature: 1000.0 ¬∞C</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/GeoParams.jl/blob/d957bb10174c13e6dbc8771679654666e09b5759/src/Units.jl#L298-L329">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoParams.Units.SI_units" href="#GeoParams.Units.SI_units"><code>GeoParams.Units.SI_units</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">CharUnits = SI_units(length=1000m, temperature=1000K, stress=10Pa, viscosity=1e20)</code></pre><p>Specify the characteristic values using SI units </p><p><strong>Examples:</strong></p><pre><code class="language-julia-repl">julia&gt; CharUnits = SI_units(length=1000m)
Employing SI units 
Characteristic values: 
         length:      1000 m
         time:        1.0e19 s
         stress:      10 Pa
         temperature: 1000.0 K</code></pre><p>Note that the same can be achieved if the input is given in <code>km</code>:</p><pre><code class="language-julia-repl">julia&gt; CharUnits = SI_units(length=1km)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/GeoParams.jl/blob/d957bb10174c13e6dbc8771679654666e09b5759/src/Units.jl#L353-L372">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoParams.Units.NO_units" href="#GeoParams.Units.NO_units"><code>GeoParams.Units.NO_units</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">CharUnits = NO_units(length=1, temperature=1, stress=1, viscosity=1)</code></pre><p>Specify the characteristic values in non-dimensional units</p><p><strong>Examples:</strong></p><pre><code class="language-julia-repl">julia&gt; using GeoParams;
julia&gt; CharUnits = NO_units()
Employing NONE units 
Characteristic values: 
         length:      1
         time:        1.0 
         stress:      1
         temperature: 1.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/GeoParams.jl/blob/d957bb10174c13e6dbc8771679654666e09b5759/src/Units.jl#L395-L411">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoParams.Units.@unpack_val" href="#GeoParams.Units.@unpack_val"><code>GeoParams.Units.@unpack_val</code></a> ‚Äî <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia">This unpacks the numerical value of `GeoUnit` in a structure, without the units.
All requested variables must be GeoUnits.

This is a modification of the `@unpack` macro as implemented in the `UnPack.jl` package, which can be used to retrieve the full variables.</code></pre><p><strong>Example</strong></p><pre><code class="language-julia">julia&gt; struct Density{T} 
        œÅ::GeoUnit{T} 
        Œ±::GeoUnit{T} 
       end
julia&gt; r = Density(GeoUnit(100kg/m^3),GeoUnit(4e-5/K));
julia&gt; @unpack_val œÅ,Œ± = r
julia&gt; Œ±
4.0e-5
julia&gt; typeof(Œ±)
Float64</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/GeoParams.jl/blob/d957bb10174c13e6dbc8771679654666e09b5759/src/unpack.jl#L4-L23">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoParams.Units.@unpack_units" href="#GeoParams.Units.@unpack_units"><code>GeoParams.Units.@unpack_units</code></a> ‚Äî <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia">This unpacks the numerical value with units of `GeoUnit` parameters in a structure
All requested variables must be GeoUnits.

This is a modification of the `@unpack` macro as implemented in the `UnPack.jl` package, which can be used to retrieve the full variables.</code></pre><p><strong>Example</strong></p><pre><code class="language-julia">julia&gt; struct Density{T} 
        œÅ::GeoUnit{T} 
        Œ±::GeoUnit{T} 
       end
julia&gt; r = Density(GeoUnit(100kg/m^3),GeoUnit(4e-5/K));
julia&gt; @unpack_units œÅ,Œ± = r
julia&gt; Œ±
4.0e-5 K‚Åª¬πŒá‚Å∞
julia&gt; typeof(Œ±)
Quantity{Float64, ùöØ‚Åª¬πŒá‚Å∞, Unitful.FreeUnits{(K‚Åª¬πŒá‚Å∞,), ùöØ‚Åª¬πŒá‚Å∞, nothing}}</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/GeoParams.jl/blob/d957bb10174c13e6dbc8771679654666e09b5759/src/unpack.jl#L44-L63">source</a></section></article><h1 id="(Non)-dimensionalize-parameters"><a class="docs-heading-anchor" href="#(Non)-dimensionalize-parameters">(Non)-dimensionalize parameters</a><a id="(Non)-dimensionalize-parameters-1"></a><a class="docs-heading-anchor-permalink" href="#(Non)-dimensionalize-parameters" title="Permalink"></a></h1><p>Once characteristic values have been defined, you can use them to non-dimensionalize or dimensionalize any parameter.</p><article class="docstring"><header><a class="docstring-binding" id="GeoParams.Units.nondimensionalize" href="#GeoParams.Units.nondimensionalize"><code>GeoParams.Units.nondimensionalize</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">nondimensionalize(param, CharUnits::GeoUnits{TYPE})</code></pre><p>Nondimensionalizes <code>param</code> using the characteristic values specified in <code>CharUnits</code></p><p><strong>Example 1</strong></p><pre><code class="language-julia-repl">julia&gt; using GeoParams;
julia&gt; CharUnits =   GEO_units();
julia&gt; v         =   3cm/yr
3 cm yr‚Åª¬π 
julia&gt; v_ND      =   nondimensionalize(v, CharUnits) 
0.009506426344208684</code></pre><p><strong>Example 2</strong></p><p>In geodynamics one sometimes encounters more funky units</p><pre><code class="language-julia-repl">julia&gt; CharUnits =   GEO_units();
julia&gt; A         =   6.3e-2MPa^-3.05*s^-1
0.063 MPa‚Åª¬≥¬∑‚Å∞‚Åµ s‚Åª¬π
julia&gt; A_ND      =   nondimensionalize(A, CharUnits) 
7.068716262102384e14</code></pre><p>In case you are interested to see how the units of <code>A</code> look like in different units, use this function from the <a href="https://github.com/PainterQubits/Unitful.jl">Unitful</a> package:</p><pre><code class="language-julia-repl">julia&gt; uconvert(u&quot;Pa^-3.05*s^-1&quot;,A) 
3.157479571851836e-20 Pa‚Åª¬≥¬∑‚Å∞‚Åµ</code></pre><p>and to see it decomposed in the basic <code>SI</code> units of length, mass and time:</p><pre><code class="language-julia-repl">julia&gt; upreferred(A)
3.1574795718518295e-20 m¬≥¬∑‚Å∞‚Åµ s‚Åµ¬∑¬π kg‚Åª¬≥¬∑‚Å∞‚Åµ</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/GeoParams.jl/blob/d957bb10174c13e6dbc8771679654666e09b5759/src/Units.jl#L429-L463">source</a></section><section><div><pre><code class="language-none">MatParam_ND = nondimensionalize(MatParam::AbstractMaterialParam, CharUnits::GeoUnits{TYPE})</code></pre><p>Non-dimensionalizes a material parameter structure (e.g., Density, CreepLaw)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/GeoParams.jl/blob/d957bb10174c13e6dbc8771679654666e09b5759/src/Units.jl#L517-L522">source</a></section><section><div><pre><code class="language-none">nondimensionalize(phase_mat::MaterialParams, g::GeoUnits{TYPE})</code></pre><p>nondimensionalizes all fields within the Material Parameters structure that contain material parameters</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/GeoParams.jl/blob/d957bb10174c13e6dbc8771679654666e09b5759/src/Units.jl#L539-L543">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoParams.Units.dimensionalize" href="#GeoParams.Units.dimensionalize"><code>GeoParams.Units.dimensionalize</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">dimensionalize(param, param_dim::Unitful.FreeUnits, CharUnits::GeoUnits{TYPE})</code></pre><p>Dimensionalizes <code>param</code> into the dimensions <code>param_dim</code> using the characteristic values specified in <code>CharUnits</code>.  </p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; CharUnits =   GEO_units();
julia&gt; v_ND      =   nondimensionalize(3cm/yr, CharUnits) 
0.031688087814028945
julia&gt; v_dim     =   dimensionalize(v_ND, cm/yr, CharUnits) 
3.0 cm yr‚Åª¬π</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/GeoParams.jl/blob/d957bb10174c13e6dbc8771679654666e09b5759/src/Units.jl#L575-L589">source</a></section><section><div><pre><code class="language-none">dimensionalize(MatParam::AbstractMaterialParam, CharUnits::GeoUnits{TYPE})</code></pre><p>Dimensionalizes a material parameter structure (e.g., Density, CreepLaw)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/GeoParams.jl/blob/d957bb10174c13e6dbc8771679654666e09b5759/src/Units.jl#L613-L618">source</a></section><section><div><pre><code class="language-none">Dimensionalize(phase_mat::MaterialParams, g::GeoUnits{TYPE})</code></pre><p>Dimensionalizes all fields within the Material Parameters structure that contain material parameters</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/GeoParams.jl/blob/d957bb10174c13e6dbc8771679654666e09b5759/src/Units.jl#L634-L638">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GeoParams.Units.isDimensional" href="#GeoParams.Units.isDimensional"><code>GeoParams.Units.isDimensional</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">isDimensional(MatParam::AbstractMaterialParam)</code></pre><p><code>true</code> if MatParam is in dimensional units.    </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaGeodynamics/GeoParams.jl/blob/d957bb10174c13e6dbc8771679654666e09b5759/src/Units.jl#L658-L662">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../">¬´ Home</a><a class="docs-footer-nextpage" href="../materialparameters/">Material Parameters ¬ª</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 24 March 2022 19:49">Thursday 24 March 2022</span>. Using Julia version 1.6.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
